<!doctype html>
<html lang="en">
{% load static %}
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Reform CRM</title>
  <link rel="stylesheet" href="{% static "css/comboTreeStyle.css" %}" />
  <link rel="shortcut icon" type="image/png" href={% static "images/logos/favicon.png" %} />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link rel="stylesheet" href={% static "css/styles.min.css" %} />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

  <script src="https://rawgit.com/enyo/dropzone/master/dist/dropzone.js"></script>
  <link rel="stylesheet" href="https://rawgit.com/enyo/dropzone/master/dist/dropzone.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.5.0/semantic.min.css" integrity="sha512-KXol4x3sVoO+8ZsWPFI/r5KBVB/ssCGB5tsv2nVOKwLg33wTFP3fmnXa47FdSVIshVTgsYk/1734xSk9aFIa4A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="{% static 'css/layout_style.css' %}">
  {% block css %}
  {% endblock %}
</head>

<body>
  <!--  Body Wrapper -->
  <div class="page-wrapper" id="main-wrapper" data-layout="vertical" data-navbarbg="skin6" data-sidebartype="full"
    data-sidebar-position="fixed" data-header-position="fixed">
    <!-- Sidebar Start -->
    <aside class="left-sidebar">
      <!-- Sidebar scroll-->
      <div>
        <div class="brand-logo d-flex align-items-center justify-content-between">
          <a href="/dashboard" class="text-nowrap logo-img">
            {% comment %} <img src="{% static "images/logos/dark-logo.svg" %}" width="180" alt="" /> {% endcomment %}
            <h1> Reform CRM</h1>
          </a>
          <div class="close-btn d-xl-none d-block sidebartoggler cursor-pointer" id="sidebarCollapse">
            <i class="ti ti-x fs-8"></i>
          </div>
        </div>
        <!-- Sidebar navigation-->
        <nav class="sidebar-nav scroll-sidebar" data-simplebar="">
          <ul id="sidebarnav">
            <li class="nav-small-cap">
              <i class="ti ti-dots nav-small-cap-icon fs-4"></i>
              <span class="hide-menu">Home</span>
            </li>
            {% if request.user.customer %}
            <li class="sidebar-item">
              <a class="sidebar-link" href="/dashboard" aria-expanded="false">
                <span>
                  <i class="ti ti-layout-dashboard"></i>
                </span>
                <span class="hide-menu">Dashboard</span>
              </a>
            </li>
            {% endif %}
            <li class="nav-small-cap">
              <i class="ti ti-dots nav-small-cap-icon fs-4"></i>
              <span class="hide-menu">Your Tabs</span>
            </li>
            {% if request.user.customer %}
            <li class="sidebar-item">
              <div class="sidebar-link customer " aria-expanded="false">
                <span>
                  <i class="ti ti-article"></i>
                </span>
                <span class="hide-menu">Customers</span>
              </div>
            </li>
            {% endif %}
            {% if request.user.client %}
            <li class="sidebar-item">
              <a class="sidebar-link" href="{% url "app:client" %}" aria-expanded="false">
                <span>
                  <i class="ti ti-article"></i>
                </span>
                <span class="hide-menu">Client</span>
              </a>
            </li>
            {% endif %}
            
            {% if request.user.council %}
            <li class="sidebar-item">
              <a class="sidebar-link" href="{% url "app:council" %}" aria-expanded="false">
                <span>
                  <i class="ti ti-article"></i>
                </span>
                <span class="hide-menu">Region</span>
              </a>
            </li>
            {% endif %}
            <li class="sidebar-item">
              <div class="sidebar-link customer-journey" aria-expanded="false">
                <span>
                  <i class="ti ti-article"></i>
                </span>
                <span class="hide-menu">Global</span>
              </div>
            </li>
            {% if request.user.admin %}
            <li class="sidebar-item">
              <a class="sidebar-link" href="{% url "app:admin" %}" aria-expanded="false">
                <span>
                  <i class="ti ti-alert-circle"></i>
                </span>
                <span class="hide-menu">Admin</span>
              </a>
            </li>
            {% endif %}
            {% if request.user.finance %}
            <li class="sidebar-item">
              <a class="sidebar-link" href="{% url "app:finance" %}" aria-expanded="false">
                <span>
                  <i class="ti ti-cards"></i>
                </span>
                <span class="hide-menu">Finance</span>
              </a>
            </li>
            {% endif %}
            {% if request.user.hr %}
            <li class="sidebar-item">
              <a class="sidebar-link" href="{% url "app:hr" %}" aria-expanded="false">
                <span>
                  <i class="ti ti-file-description"></i>
                </span>
                <span class="hide-menu">HR</span>
              </a>
            </li>
            {% endif %}
        </nav>
        <!-- End Sidebar navigation -->
      </div>
      <!-- End Sidebar scroll-->
    </aside>
    <!--  Sidebar End -->
    <!--  Main wrapper -->
    <div class="body-wrapper">
      <!--  Header Start -->
      <header class="app-header">
        <nav class="navbar navbar-expand-lg navbar-light">
          <ul class="navbar-nav">
            <li class="nav-item d-block d-xl-none">
              <a class="nav-link sidebartoggler nav-icon-hover" id="headerCollapse" href="javascript:void(0)">
                <i class="ti ti-menu-2"></i>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link nav-icon-hover" href="javascript:void(0)" onclick="window.history.back();">
                <i class="ti ti-arrow-left"></i>
              </a>
            </li>
          </ul>
          <div class="navbar-collapse justify-content-end px-0" id="navbarNav">
            <ul class="navbar-nav flex-row ms-auto align-items-center justify-content-end">
              {% block search %}
              {% endblock %}
              <li class="nav-item dropdown">
                <a class="nav-link nav-icon-hover drop2" href="javascript:void(0)" id="drop2" data-bs-toggle="dropdown"
                  aria-expanded="false">
                  <img src="{% static 'images/profile/user-1.jpg' %}" alt="" width="35" height="35" class="rounded-circle">
                </a>
                <div class="dropdown-menu dropdown-menu-end dropdown-menu-animate-up drop3" aria-labelledby="drop2">
                  <div class="message-body">
                    <a href="#" class="btn btn-primary mx-3 mt-2 d-block">Profile</a>
                    <a href="{% url "user:logout" %}" class="btn btn-outline-primary mx-3 mt-2 d-block">Logout</a>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </nav>
      </header>
      
      {% comment %} {% if request.GET.page != 'customer' or request.GET.page != 'product' or 'council_detail' in request.GET.page %}
      {% for message in messages %}
      <div class="container-fluid p-0 m-0">
        <div class="alert {{ message.tags }} alert-dismissible m-0 text-center" role="alert" >
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="True">&times;</span>
          </button>
         {{ message }}
        </div>
      </div>
      {% endfor %}
      {% endif %} {% endcomment %}

      {% block content %}{% endblock content %}
      </div>
    </div>
  </div>
  <script src="{% static 'libs/jquery/dist/jquery.min.js' %}"></script>
  <script src="{% static 'libs/bootstrap/dist/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'js/sidebarmenu.js' %}"></script>
  <script src="{% static 'js/app.min.js' %}"></script>
  <script src="{% static 'libs/apexcharts/dist/apexcharts.min.js' %}"></script>
  <script src="{% static 'libs/simplebar/dist/simplebar.js' %}"></script>
  <script src="{% static 'js/dashboard.js' %}"></script>
 
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.5.0/semantic.min.js" integrity="sha512-Xo0Jh8MsOn72LGV8kU5LsclG7SUzJsWGhXbWcYs2MAmChkQzwiW/yTQwdJ8w6UA9C6EVG18GHb/TrYpYCjyAQw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


  <script src="{% static 'js/comboTreePlugin.js' %} " type="text/javascript"></script>

  
  <script>
    const customer = document.querySelector('.customer');
    customer.addEventListener('click',()=>{
        {% if request.user.archive %}
        if(document.querySelector('.archive')){
          document.querySelector('.archive').remove()
        } else{
          
        const a = document.createElement("li");
        a.classList.add('sidebar-item','archive');
        a.innerHTML = `
        <a class="sidebar-link" href="{% url "app:archive" %}" aria-expanded="false">
                <span>
                  <i class="bi bi-chevron-down " style="color: transparent;
                  "></i>
                </span>
                <span>
                  <i class="ti ti-article" style="background-color: transparent;"></i>
                </span>
                <span class="hide-menu">Archive</span>
              </a>
        `
        customer.parentNode.insertAdjacentElement("afterend", a);
        
      }
      {% endif %}
      if(document.querySelector('.customers')){
          document.querySelector('.customers').remove()
        } else{
        const a1 = document.createElement("li");
        a1.classList.add('sidebar-item','customers');
        a1.innerHTML = `
        <a class="sidebar-link" href="{% url "app:customer" %}" aria-expanded="false">
                <span>
                  <i class="bi bi-chevron-down " style="color: transparent;
                  "></i>
                </span>
                <span>
                  <i class="ti ti-article" style="background-color: transparent;"></i>
                </span>
                <span class="hide-menu">Customer</span>
              </a>
        `
        customer.parentNode.insertAdjacentElement("afterend", a1);
        
      }
      })
    
      
    </script>

  
  <script>
    const customerJourney = document.querySelector('.customer-journey');
    customerJourney.addEventListener('click',()=>{

      
        if(document.querySelector('.questions')){
          document.querySelector('.questions').remove()
        } else{
          
        const a = document.createElement("li");
        a.classList.add('sidebar-item','questions');
        a.innerHTML = `
        <a class="sidebar-link" href="{% url "app:questions" %}" aria-expanded="false">
                <span>
                  <i class="bi bi-chevron-down " style="color: transparent;
                  "></i>
                </span>
                <span>
                  <i class="ti ti-article" style="background-color: transparent;"></i>
                </span>
                <span class="hide-menu">Question and Action</span>
              </a>
        `
        customerJourney.parentNode.insertAdjacentElement("afterend", a);
        
      }


      if(document.querySelector('.cj')){
          document.querySelector('.cj').remove()
        } else{
          
        const a = document.createElement("li");
        a.classList.add('sidebar-item','cj');
        a.innerHTML = `
        <a class="sidebar-link" href="{% url "app:customer_journey" %}" aria-expanded="false">
                <span>
                  <i class="bi bi-chevron-down " style="color: transparent;
                  "></i>
                </span>
                <span>
                  <i class="ti ti-article" style="background-color: transparent;"></i>
                </span>
                <span class="hide-menu">Customer Journey</span>
              </a>
        `
        customerJourney.parentNode.insertAdjacentElement("afterend", a);
        
      }

      if(document.querySelector('.funding_route')){
          document.querySelector('.funding_route').remove()
        } else{
          
        const a = document.createElement("li");
        a.classList.add('sidebar-item','funding_route');
        a.innerHTML = `
        <a class="sidebar-link" href="{% url "app:funding_route" %}" aria-expanded="false">
                <span>
                  <i class="bi bi-chevron-down " style="color: transparent;
                  "></i>
                </span>
                <span>
                  <i class="ti ti-article" style="background-color: transparent;"></i>
                </span>
                <span class="hide-menu">Funding Route</span>
              </a>
        `
        customerJourney.parentNode.insertAdjacentElement("afterend", a);
        
      }

        if(document.querySelector('.product')){
          document.querySelector('.product').remove()
        } else{
          
        const a = document.createElement("li");
        a.classList.add('sidebar-item','product');
        a.innerHTML = `
        <a class="sidebar-link" href="{% url "app:product" %}" aria-expanded="false">
                <span>
                  <i class="bi bi-chevron-down " style="color: transparent;
                  "></i>
                </span>
                <span>
                  <i class="ti ti-article" style="background-color: transparent;"></i>
                </span>
                <span class="hide-menu">Product</span>
              </a>
        `
        customerJourney.parentNode.insertAdjacentElement("afterend", a);
        
      }


      })
    
      
    </script>

  {% block js %}
  
  {% endblock js %}

</body>

</html>